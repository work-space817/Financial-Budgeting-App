(this["webpackJsonpcar-app"]=this["webpackJsonpcar-app"]||[]).push([[12],{701:function(e,t,a){"use strict";var c=a(3),n=a(8),s=a(4),r=a(256),i=a.n(r),o=a(0),l=a(168),d=a(702),j=a.n(d),b=(a(384),a(9)),u=a.n(b),h=a(64),m=a(65),p=a(1);t.a=function(e){var t=e.onChange,a=e.field,r=e.error,d=e.touched,b=e.value,O=e.aspectRatio,x=void 0===O?16/9:O,f=Object(o.useState)(b),v=Object(s.a)(f,2),g=v[0],N=v[1],C=Object(o.useState)(),y=Object(s.a)(C,2),_=y[0],w=y[1],k=Object(o.useRef)(null),S=Object(o.useRef)(),R=Object(o.useState)(),I=Object(s.a)(R,2),F=I[0],U=I[1],q=Object(o.useState)(!1),z=Object(s.a)(q,2),B=z[0],E=z[1],D=function(){var e=Object(n.a)(Object(c.a)().mark((function e(t){var a,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.target.files[0])){e.next=7;break}return n=URL.createObjectURL(a),e.next=5,N(n);case 5:null===_||void 0===_||_.replace(n),E(!0);case 7:t.target.value="";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){if(k.current){var e=new i.a(k.current,{aspectRatio:x,viewMode:1,preview:S.current});e.replace(g),w(e)}}),[B,g,x]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{className:j.a.formGroup,children:[Object(p.jsx)("label",{htmlFor:a,style:{height:"100%",width:"100%"},children:Object(p.jsxs)("div",{className:u()(j.a.labelInput,{"text-danger border border-danger rounded":d&&r},{"is-valid border border-success rounded":d&&!r}),children:[F&&Object(p.jsx)("img",{className:j.a.bgImg,src:F,alt:"asdas"}),!F&&Object(p.jsxs)(p.Fragment,{children:[b&&Object(p.jsx)("img",{style:{width:"100%"},src:b,alt:"asdasda"}),!b&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("i",{className:"fa fa-image fa-5x"}),Object(p.jsx)("span",{className:"d-block",children:"\u0414\u043b\u044f \u0432\u0438\u0431\u043e\u0440\u0443 \u0444\u043e\u0442\u043e \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c"})]})]}),r&&Object(p.jsx)("div",{children:r})]})}),Object(p.jsx)("input",{id:a,className:"d-none",type:"file",onChange:D})]}),B&&Object(p.jsx)(l.a,{onClose:function(){E(!1)},children:Object(p.jsxs)("div",{className:j.a.modalBody,children:[Object(p.jsx)("div",{className:j.a.image,children:Object(p.jsx)("img",{ref:k,src:b,alt:"asdds"})}),Object(p.jsx)("div",{ref:S,style:{height:"150px",width:"150px",border:"1px solid silver",overflow:"hidden"}}),Object(p.jsxs)("div",{className:"d-flex justify-content-around mt-2",children:[Object(p.jsx)("button",{onClick:function(){k.current&&(null===_||void 0===_||_.rotate(90))},type:"button",className:"btn btn-outline-secondary",children:Object(p.jsx)(h.a,{icon:m.e,size:"2x"})}),Object(p.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"150px"},children:[Object(p.jsx)("button",{onClick:function(){var e=null===_||void 0===_?void 0:_.getCroppedCanvas().toDataURL();U(e),E(!1),t(a,e)},type:"button",className:"btn btn-outline-success",children:Object(p.jsx)(h.a,{icon:m.a,size:"2x"})}),Object(p.jsx)("button",{onClick:function(){E(!1)},type:"button",className:"btn btn-outline-danger",children:Object(p.jsx)(h.a,{icon:m.f,size:"2x"})})]})]})]})})]})}},702:function(e,t,a){e.exports={modalBody:"CropperComponent_modalBody__2D_CS",image:"CropperComponent_image__2KbH0",formGroup:"CropperComponent_formGroup__31n-Q",labelInput:"CropperComponent_labelInput__3e2Hl",bgImg:"CropperComponent_bgImg__7A-8d"}},761:function(e,t,a){},826:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(3),s=a(8),r=a(45),i=a(0),o=a(7),l=a(23),d=a(24),j=a(37),b=j.c({id:j.b().required(),email:j.e().email("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0438\u0439 Email").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),firstName:j.e().required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),secondName:j.e().required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),photo:j.a().nullable(),phone:j.e().matches(/^((\+?3)?8)?((0\(\d{2}\)?)|(\(0\d{2}\))|(0\d{2}))\d{7}$/,"\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c")}),u=a(82),h=a(39),m=a(43),p=a(41),O=a(699),x=a(701),f=(a(761),a(1));t.default=function(){var e=Object(d.a)((function(e){return e.userCrud})),t=e.userData,a=e.loading,j=Object(l.a)(),v=j.updateUser,g=j.getUserById,N=Object(o.m)(),C=Object(o.o)().id,y=Number(C);Object(i.useEffect)((function(){g(y)}),[g,y]);var _=Object(f.jsx)("h3",{className:"text-center",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"}),w=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(q);case 3:N("/adminPanel/users"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),k=Object(r.d)({initialValues:Object(c.a)(Object(c.a)({},t),{},{photo:"https://vovalohika.tk/images/600_".concat(t.photo)}),validationSchema:b,onSubmit:w,enableReinitialize:!0}),S=k.errors,R=k.touched,I=k.handleChange,F=k.handleSubmit,U=k.setFieldValue,q=k.values;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h.a,{children:Object(f.jsx)("title",{children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430"})}),a&&Object(f.jsx)(m.a,{}),!a&&Object(f.jsx)(u.a,{title:_,className:"p-5",children:Object(f.jsx)(r.c,{value:k,children:Object(f.jsx)(r.b,{onSubmit:F,children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-1"}),Object(f.jsx)("div",{className:"col-3 m-3",children:Object(f.jsx)("div",{className:"CroperSize_editUser",children:Object(f.jsx)(x.a,{aspectRatio:1,field:"photo",onChange:U,error:S.photo,touched:R.photo,value:q.photo})})}),Object(f.jsxs)("div",{className:"col-4",children:[Object(f.jsx)(p.a,{field:"firstName",label:"\u0406\u043c'\u044f",error:S.firstName,touched:R.firstName,value:q.firstName,onChange:I}),Object(f.jsx)(p.a,{field:"secondName",label:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",error:S.secondName,onChange:I,touched:R.secondName,value:q.secondName}),Object(f.jsx)(p.a,{field:"email",label:"Email",error:S.email,onChange:I,touched:R.email,value:q.email}),Object(f.jsx)(p.a,{field:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",error:S.phone,onChange:I,touched:R.phone,value:q.phone}),Object(f.jsx)("div",{className:"text-center",children:Object(f.jsx)(O.a,{type:"submit",label:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon:"pi pi-check"})}),Object(f.jsx)("div",{className:"col-2"})]})]})})})})]})}}}]);
//# sourceMappingURL=12.e355a59c.chunk.js.map