(this["webpackJsonpcar-app"]=this["webpackJsonpcar-app"]||[]).push([[13],{701:function(e,t,a){"use strict";var n=a(3),c=a(8),r=a(4),s=a(256),l=a.n(s),i=a(0),o=a(168),d=a(702),u=a.n(d),j=(a(384),a(9)),b=a.n(j),m=a(64),h=a(65),x=a(1);t.a=function(e){var t=e.onChange,a=e.field,s=e.error,d=e.touched,j=e.value,O=e.aspectRatio,f=void 0===O?16/9:O,p=Object(i.useState)(j),v=Object(r.a)(p,2),g=v[0],w=v[1],y=Object(i.useState)(),C=Object(r.a)(y,2),N=C[0],_=C[1],k=Object(i.useRef)(null),S=Object(i.useRef)(),F=Object(i.useState)(),I=Object(r.a)(F,2),T=I[0],P=I[1],R=Object(i.useState)(!1),U=Object(r.a)(R,2),B=U[0],D=U[1],H=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.target.files[0])){e.next=7;break}return c=URL.createObjectURL(a),e.next=5,w(c);case 5:null===N||void 0===N||N.replace(c),D(!0);case 7:t.target.value="";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){if(k.current){var e=new l.a(k.current,{aspectRatio:f,viewMode:1,preview:S.current});e.replace(g),_(e)}}),[B,g,f]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("form",{className:u.a.formGroup,children:[Object(x.jsx)("label",{htmlFor:a,style:{height:"100%",width:"100%"},children:Object(x.jsxs)("div",{className:b()(u.a.labelInput,{"text-danger border border-danger rounded":d&&s},{"is-valid border border-success rounded":d&&!s}),children:[T&&Object(x.jsx)("img",{className:u.a.bgImg,src:T,alt:"asdas"}),!T&&Object(x.jsxs)(x.Fragment,{children:[j&&Object(x.jsx)("img",{style:{width:"100%"},src:j,alt:"asdasda"}),!j&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("i",{className:"fa fa-image fa-5x"}),Object(x.jsx)("span",{className:"d-block",children:"\u0414\u043b\u044f \u0432\u0438\u0431\u043e\u0440\u0443 \u0444\u043e\u0442\u043e \u043d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c"})]})]}),s&&Object(x.jsx)("div",{children:s})]})}),Object(x.jsx)("input",{id:a,className:"d-none",type:"file",onChange:H})]}),B&&Object(x.jsx)(o.a,{onClose:function(){D(!1)},children:Object(x.jsxs)("div",{className:u.a.modalBody,children:[Object(x.jsx)("div",{className:u.a.image,children:Object(x.jsx)("img",{ref:k,src:j,alt:"asdds"})}),Object(x.jsx)("div",{ref:S,style:{height:"150px",width:"150px",border:"1px solid silver",overflow:"hidden"}}),Object(x.jsxs)("div",{className:"d-flex justify-content-around mt-2",children:[Object(x.jsx)("button",{onClick:function(){k.current&&(null===N||void 0===N||N.rotate(90))},type:"button",className:"btn btn-outline-secondary",children:Object(x.jsx)(m.a,{icon:h.e,size:"2x"})}),Object(x.jsxs)("div",{className:"d-flex justify-content-between",style:{width:"150px"},children:[Object(x.jsx)("button",{onClick:function(){var e=null===N||void 0===N?void 0:N.getCroppedCanvas().toDataURL();P(e),D(!1),t(a,e)},type:"button",className:"btn btn-outline-success",children:Object(x.jsx)(m.a,{icon:h.a,size:"2x"})}),Object(x.jsx)("button",{onClick:function(){D(!1)},type:"button",className:"btn btn-outline-danger",children:Object(x.jsx)(m.a,{icon:h.f,size:"2x"})})]})]})]})})]})}},702:function(e,t,a){e.exports={modalBody:"CropperComponent_modalBody__2D_CS",image:"CropperComponent_image__2KbH0",formGroup:"CropperComponent_formGroup__31n-Q",labelInput:"CropperComponent_labelInput__3e2Hl",bgImg:"CropperComponent_bgImg__7A-8d"}},728:function(e,t,a){"use strict";var n=a(3),c=a(8),r=a(82),s=a(45),l=a(37),i=l.c({name:l.e().required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),text:l.e().required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),slug:l.e().required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"),dateTimePublish:l.e().required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043f\u043e\u0432\u0438\u043d\u043d\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c")}),o=a(41),d=a(699),u=a(730),j=a.n(u),b=(a(731),a(132)),m=a(2),h=a(19),x=a(9),O=a.n(x),f=a(732),p=a.n(f),v=a(750),g=a(1),w=["label","field","touched","error","onChange"],y=function(e){var t=e.label,a=e.field,n=e.touched,c=void 0===n?null:n,r=e.error,s=void 0===r?null:r,l=e.onChange,i=Object(h.a)(e,w);return Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:a,className:"form-label",children:t}),Object(g.jsx)(p.a,Object(m.a)({name:a,autoComplete:"off",locale:v.a,dateFormat:"dd/MM/yyyy",className:O()("form-control",{"is-invalid":c&&s},{"is-valid":c&&!s}),onChange:l},i)),c&&s&&Object(g.jsx)("div",{className:"invalid-feedback",children:s})]})},C=a(43),N=a(715),_=a(23),k=a(24),S=a(701),F=a(0),I=a(131),T=a(704),P=a(7);t.a=function(e){var t=Object(P.m)(),a=Object(_.a)().uploadImages,l=Object(k.a)((function(e){return e.news})).images,u=Object(F.useRef)(null),m=Object(k.a)((function(e){return e.news})).loading,h=new j.a,x=e.initVal,O=e.addUpdateHandler,f=e.buttonText,p=e.header,v=e.toaastDetail,w=x,R=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t);case 3:null!==u.current&&u.current.show({severity:"info",summary:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",detail:"\u0424\u043e\u0442\u043e \u0434\u043e\u0434\u0430\u043d\u043e",life:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null!==u.current&&u.current.show({severity:"error",summary:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",detail:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",life:3e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(Object(n.a)().mark((function e(a){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(a);case 3:null!==u.current&&u.current.show({severity:"info",summary:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",detail:v,life:3e3}),t("/adminPanel/newsList"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),null!==u.current&&u.current.show({severity:"error",summary:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e",detail:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",life:3e3});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(s.d)({initialValues:w,validationSchema:i,onSubmit:U,enableReinitialize:!0}),D=B.errors,H=B.touched,L=B.handleChange,q=B.handleSubmit,z=B.setFieldValue,V=B.values;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(T.a,{ref:u}),Object(g.jsxs)(r.a,{style:{padding:"1rem"},children:[Object(g.jsx)("h1",{className:"text-center",children:p}),Object(g.jsx)(s.c,{value:B,children:Object(g.jsxs)(s.b,{onSubmit:q,children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-3",children:[Object(g.jsx)(o.a,{field:"name",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",error:D.name,onChange:L,onBlur:function(){return z("slug",h.transform(V.name,"-"))},touched:H.name,value:V.name}),Object(g.jsx)("label",{htmlFor:"image",children:"\u0424\u043e\u0442\u043e \u043d\u043e\u0432\u0438\u043d\u0438"}),Object(g.jsx)("div",{className:"form-control mb-1",children:Object(g.jsx)(S.a,{field:"image",onChange:z,error:D.image,touched:H.image,value:V.image})}),Object(g.jsx)("label",{htmlFor:"isShow",children:"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u043d\u043e\u0432\u0438\u043d\u0438"}),Object(g.jsx)("div",{className:"m-2",children:Object(g.jsx)(N.a,{checked:V.isShow,onChange:function(e){return z("isShow",e.value)}})}),Object(g.jsx)(o.a,{field:"slug",label:"Slug",error:D.slug,onChange:L,onBlur:function(){return z("slug",h.transform(V.slug,"-"))},touched:H.slug,value:V.slug}),Object(g.jsx)(y,{field:"dateTimePublish",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0456\u043a\u0430\u0446\u0456\u0457",error:D.dateTimePublish,touched:H.dateTimePublish,value:V.dateTimePublish,onChange:function(e){z("dateTimePublish",e.toLocaleDateString("uk-UA")),console.log(V.dateTimePublish)}})]}),Object(g.jsxs)("div",{className:"col-9",children:[Object(g.jsx)(b.a,{value:V.text,field:"text",label:"\u0422\u0435\u043a\u0441\u0442 \u043d\u043e\u0432\u0438\u043d\u0438",error:D.text,touched:H.text,onEditorChange:function(e){z("text",e)}}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-3",children:[Object(g.jsx)("label",{htmlFor:"addImage",className:" p-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"}),Object(g.jsx)(I.a,{onChange:function(){},field:"addImage",uploadImageHandler:R})]}),Object(g.jsxs)("div",{className:"col-9",children:[Object(g.jsx)("label",{htmlFor:"addImage",className:" p-2",children:"\u0410\u0434\u0440\u0435\u0441\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a"}),Object(g.jsx)("p",{className:"form-control h-100",children:l.map((function(e,t){return Object(g.jsx)("p",{children:e.name},t)}))})]})]})]})]}),Object(g.jsx)("div",{className:"d-flex",children:Object(g.jsx)(d.a,{type:"submit",label:f,icon:"pi pi-plus"})})]})}),m&&Object(g.jsx)(C.a,{})]})]})}},816:function(e,t,a){"use strict";a.r(t);var n=a(23),c=a(39),r=a(728),s=a(1);t.default=function(){var e=Object(n.a)().addNews;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(c.a,{children:Object(s.jsx)("title",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u043d\u0438"})}),Object(s.jsx)(r.a,{initVal:{name:"",text:"",image:"",slug:"",isShow:!1,dateTimePublish:""},addUpdateHandler:e,buttonText:"\u0414\u043e\u0434\u0430\u0442\u0438",header:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u043d\u0443",toaastDetail:"\u041d\u043e\u0432\u0438\u043d\u0443 \u0434\u043e\u0434\u0430\u043d\u043e"})]})}}}]);
//# sourceMappingURL=13.bc2f8ab9.chunk.js.map