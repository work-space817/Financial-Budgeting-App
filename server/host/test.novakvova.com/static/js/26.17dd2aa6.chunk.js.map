{"version":3,"sources":["components/Categories/CategorySearch/CategorySearch.tsx","components/Categories/AdminTableConfigs/Configs.tsx","components/Categories/Pagination/Pagination.tsx","components/Categories/CategoriesList/Categories.tsx"],"names":["CategorySearch","getSearchCategoryResult","useActions","useTypedSelector","store","userCrud","pages","loading","useSearchParams","searchParams","setSearchParams","useState","id","get","title","priority","search","setSearch","useEffect","buttons","i","push","formik","useFormik","initialValues","onSubmit","values","obj","searchData","page","qs","stringify","console","log","Object","fromEntries","entries","filter","resetForm","handleChange","handleSubmit","className","value","InputGroup","field","label","onChange","type","icon","TableImageTemplate","rowData","imagesrc","image","uuid","src","height","onError","event","target","alt","style","width","AdminSearch","toggleSearch","setToggleSearch","navigator","useNavigate","onClick","prev","Pagination","categoryCrud","currentPage","total","urlSlug","filterNonNull","classNames","disabled","to","active","el","map","item","key","CategoriesList","categories","deleteId","setDeleteId","visible","setVisible","toast","useRef","deleteCategory","header","footer","autoLayout","responsiveLayout","body","delCategory","onHide","message","accept","current","show","severity","summary","detail","life"],"mappings":"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","file":"static/js/26.17dd2aa6.chunk.js","sourcesContent":["import { Form, FormikProvider, useFormik } from 'formik';\r\nimport InputGroup from '../../common/InputGroup';\r\nimport { ISearchCategory } from '../types/SearchCategories';\r\nimport { useActions } from '../../../hooks/useActions';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport qs from 'qs';\r\nimport { useTypedSelector } from '../../../hooks/useTypedSelector';\r\nimport EclipseWidget from '../../common/eclipse';\r\nimport { Card } from 'primereact/card';\r\nimport { Button } from 'primereact/button';\r\n\r\nconst CategorySearch = () => {\r\n  const { getSearchCategoryResult } = useActions();\r\n  const { pages, loading } = useTypedSelector((store) => store.userCrud);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  const [search, setSearch] = useState<ISearchCategory>({\r\n    id: searchParams.get('id') || '',\r\n    title: searchParams.get('title') || '',\r\n    priority: searchParams.get('priority') || '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    getSearchCategoryResult(search);\r\n  }, [getSearchCategoryResult, search]);\r\n\r\n  const buttons = [];\r\n  for (var i = 2; i < pages; i++) {\r\n    buttons.push(i);\r\n  }\r\n\r\n  const filterNonNull = (obj: ISearchCategory) => {\r\n    console.log(Object.fromEntries(Object.entries(obj).filter(([k, v]) => v)));\r\n    \r\n    return Object.fromEntries(Object.entries(obj).filter(([k, v]) => v));\r\n  };\r\n\r\n  const onHandleSubmit = (values: ISearchCategory) => {\r\n    const searchData: ISearchCategory = {\r\n      ...values,\r\n      page: 1,\r\n    };\r\n    setSearchParams(qs.stringify(filterNonNull(searchData)));\r\n    setSearch(searchData);\r\n    formik.resetForm();\r\n\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: search,\r\n    onSubmit: onHandleSubmit,\r\n  });\r\n\r\n  const { handleChange, handleSubmit, values } = formik;\r\n\r\n  return (\r\n    <div className=\"team_dark\">\r\n        <Card>\r\n          <FormikProvider value={formik}>\r\n            <Form onSubmit={handleSubmit}>\r\n              <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                  <InputGroup\r\n                    field=\"title\"\r\n                    label=\"Назва категорії\"\r\n                    onChange={handleChange}\r\n                    value={values?.title}\r\n                  />\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <InputGroup\r\n                    field=\"priority\"\r\n                    label=\"Пріорітет\"\r\n                    onChange={handleChange}\r\n                    value={values?.priority}\r\n                  />\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <InputGroup \r\n                  field=\"id\" \r\n                  label=\"ID\" \r\n                  onChange={handleChange} \r\n                  value={values?.id} />\r\n                </div>\r\n                <div className=\"mt-auto p-3 align-self-end\">\r\n                  <Button type=\"submit\" label=\"Пошук\" icon=\"pi pi-search\" />\r\n                </div>\r\n              </div>\r\n            </Form>\r\n          </FormikProvider>\r\n        </Card>\r\n      {loading && <EclipseWidget />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategorySearch;\r\n","import { Button } from 'primereact/button';\r\nimport { CategoryInfo } from '../types';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { useState } from 'react';\r\nimport CategorySearch from '../CategorySearch/CategorySearch';\r\nimport {  useNavigate } from 'react-router-dom';\r\n// import { CreateCategory } from '../CreateCategory/CreateCategory';\r\n\r\nexport const TableImageTemplate = (rowData: CategoryInfo) => {\r\n  const imagesrc = `https://vovalohika.tk/images/150_${rowData.image}?t=${uuid()}`;\r\n  console.log(imagesrc);\r\n  return (\r\n    <img\r\n      src={imagesrc}\r\n      height=\"70\"\r\n      onError={(event: React.SyntheticEvent<HTMLImageElement, Event>) =>\r\n        ((event.target as HTMLImageElement).src =\r\n          'https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png')\r\n      }\r\n      alt=\"CategoryImage\"\r\n      className=\"product-image\"\r\n      style={{ width: 'auto' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const AdminSearch = () => {\r\n  const [toggleSearch, setToggleSearch] = useState(false);\r\n\r\n  const navigator = useNavigate();\r\n\r\n  const handelAdd = () => {\r\n    navigator(`/adminPanel/categories/add`);\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"d-flex justify-content-between\">\r\n        <div className=\"table-header\">Категорії</div>\r\n        <Button \r\n        className='p-button-raised p-button-secondary'\r\n        label=\"Додати категорію\"\r\n        icon=\"pi pi-plus\" \r\n        onClick={() => handelAdd()} />\r\n\r\n        <Button\r\n        className='p-button-raised p-button-secondary'\r\n          label=\"Шукати категорію\"\r\n          icon=\"pi pi-search\"\r\n          onClick={() => {\r\n            setToggleSearch((prev) => !prev);\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {toggleSearch && <CategorySearch />}\r\n    </>\r\n  );\r\n};\r\n","import classNames from 'classnames';\r\nimport qs from 'qs';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport { useActions } from '../../../hooks/useActions';\r\nimport { useTypedSelector } from '../../../hooks/useTypedSelector';\r\nimport { ISearchCategory } from '../types/SearchCategories';\r\n\r\nconst Pagination = () => {\r\n  const { getSearchCategoryResult } = useActions();\r\n  const { pages, currentPage, total } = useTypedSelector((store) => store.categoryCrud);\r\n  const [searchParams] = useSearchParams();\r\n\r\n  const [search, setSearch] = useState<ISearchCategory>({\r\n    id: searchParams.get('id') || '',\r\n    title: searchParams.get('title') || '',\r\n    urlSlug: searchParams.get('urlSlug') || '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    getSearchCategoryResult(search);\r\n  }, [getSearchCategoryResult, search]);\r\n\r\n  const buttons = [];\r\n  for (var i = 2; i < pages; i++) {\r\n    buttons.push(i);\r\n  }\r\n\r\n  const filterNonNull = (obj: ISearchCategory) => {\r\n    return Object.fromEntries(Object.entries(obj).filter(([k, v]) => v));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h5>Всього категорій: {total}</h5>\r\n      <ul className=\"pagination d-flex justify-content-center\">\r\n        <li\r\n          onClick={() => setSearch({ ...search, page: currentPage - 1 })}\r\n          className={classNames('page-item m-1', {\r\n            disabled: currentPage === 1,\r\n          })}>\r\n          <Link\r\n            className=\"page-link\"\r\n            to={'?' + qs.stringify(filterNonNull({ ...search, page: currentPage - 1 }))}>\r\n            &laquo;\r\n          </Link>\r\n        </li>\r\n        <li\r\n          className={classNames('page-item m-1', {\r\n            active: currentPage === 1,\r\n          })}\r\n          onClick={() => currentPage > 1 && setSearch({ ...search, page: 1 })}>\r\n          <Link\r\n            className=\"page-link\"\r\n            to={'?' + qs.stringify(filterNonNull({ ...search, page: 1 }))}>\r\n            1\r\n          </Link>\r\n        </li>\r\n        {currentPage > 4 && (\r\n          <li\r\n            className=\"page-item m-1\"\r\n            onClick={() => setSearch({ ...search, page: currentPage - 3 })}>\r\n            <Link\r\n              className=\"page-link\"\r\n              to={'?' + qs.stringify(filterNonNull({ ...search, page: currentPage - 3 }))}>\r\n              ...\r\n            </Link>\r\n          </li>\r\n        )}\r\n        {buttons\r\n          .filter((el) => el > currentPage - 3 && el < currentPage + 3)\r\n          .map((item, key) => {\r\n            const page: ISearchCategory = {\r\n              ...search,\r\n              page: item,\r\n            };\r\n            return (\r\n              <li\r\n                key={key}\r\n                onClick={() => setSearch(page)}\r\n                className={classNames('page-item m-1', {\r\n                  active: item === currentPage,\r\n                })}>\r\n                <Link\r\n                  className=\"page-link\"\r\n                  to={'?' + qs.stringify(filterNonNull({ ...search, page: item }))}>\r\n                  {item}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        {currentPage < pages - 3 && (\r\n          <li\r\n            className=\"page-item m-1\"\r\n            onClick={() => setSearch({ ...search, page: currentPage + 3 })}>\r\n            <Link\r\n              className=\"page-link\"\r\n              to={'?' + qs.stringify(filterNonNull({ ...search, page: currentPage + 3 }))}>\r\n              ...\r\n            </Link>\r\n          </li>\r\n        )}\r\n        {pages >= 2 && (\r\n          <li\r\n            className={classNames('page-item m-1', {\r\n              active: currentPage === pages,\r\n            })}\r\n            onClick={() => setSearch({ ...search, page: pages })}>\r\n            <Link\r\n              className=\"page-link\"\r\n              to={'?' + qs.stringify(filterNonNull({ ...search, page: pages }))}>\r\n              {pages}\r\n            </Link>\r\n          </li>\r\n        )}\r\n        <li\r\n          onClick={() => currentPage < pages && setSearch({ ...search, page: currentPage + 1 })}\r\n          className={classNames('page-item m-1', {\r\n            disabled: currentPage === pages,\r\n          })}>\r\n          <Link\r\n            className=\"page-link\"\r\n            to={'?' + qs.stringify(filterNonNull({ ...search, page: currentPage + 1 }))}>\r\n            &raquo;\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import {  useRef, useState } from 'react';\r\nimport { useActions } from '../../../hooks/useActions';\r\nimport { useTypedSelector } from '../../../hooks/useTypedSelector';\r\nimport { CategoryInfo } from '../types';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { AdminSearch, TableImageTemplate } from '../AdminTableConfigs/Configs';\r\nimport { ConfirmDialog } from 'primereact/confirmdialog';\r\nimport { Toast } from 'primereact/toast';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from '../Pagination/Pagination';\r\n\r\nconst CategoriesList = () => {\r\n  const { categories } = useTypedSelector((store) => store.categoryCrud);\r\n  const [deleteId, setDeleteId] = useState<number>(0);\r\n  const [visible, setVisible] = useState(false);\r\n  const toast = useRef<Toast>(null);\r\n  const { deleteCategory } = useActions();\r\n\r\n  const ActionBodyTemplate = (rowData: CategoryInfo) => {\r\n    const delCategory = async (id: number) => {\r\n      await setVisible(true);\r\n      setDeleteId(id);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <ConfirmDialog\r\n          visible={visible}\r\n          onHide={() => setVisible(false)}\r\n          message=\"Ви впевнені, що хочете видалити категорію?\"\r\n          header=\"Confirmation\"\r\n          icon=\"pi pi-exclamation-triangle\"\r\n          accept={() => {\r\n            deleteCategory(deleteId);\r\n\r\n            if (toast.current !== null) {\r\n              toast.current.show({\r\n                severity: 'info',\r\n                summary: 'Виконано',\r\n                detail: 'Категорію видалено',\r\n                life: 3000,\r\n              });\r\n            }\r\n\r\n            console.log(toast.current);\r\n          }}\r\n        />\r\n\r\n        <Link to={`categoryInfo/${rowData.id}`}>\r\n          <Button icon=\"pi pi-info\" className=\"p-button-rounded p-button-info p-mr-3\" />\r\n        </Link>\r\n        <Link to={`edit/${rowData.id}`}>\r\n          <Button icon=\"pi pi-pencil\" className=\"p-button-rounded p-button-success p-mr-3\" />\r\n        </Link>\r\n        <Button\r\n          icon=\"pi pi-trash\"\r\n          className=\"p-button-rounded p-button-warning p-mr-3\"\r\n          onClick={() => delCategory(rowData.id)}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container team_dark\">\r\n      <div className=\"card\">\r\n        <DataTable\r\n          value={categories}\r\n          header={<AdminSearch />}\r\n          footer={<Pagination />}\r\n          autoLayout={true}\r\n          responsiveLayout=\"stack\"\r\n          className=\"p-datatable\">\r\n          <Column field=\"id\" header=\"Id\"></Column>\r\n          <Column field=\"title\" header=\"Назва категорії\"></Column>\r\n          <Column body={TableImageTemplate} header={'Зображення'}></Column>\r\n          <Column field=\"priority\" header=\"Пріорітет\"></Column>\r\n          <Column field=\"urlSlug\" header=\"UrlSlug\"></Column>\r\n          <Column body={ActionBodyTemplate} header=\"Дії\"></Column>\r\n        </DataTable>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoriesList;\r\n"],"sourceRoot":""}